(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fc9d6a8"],{"5a0f":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"prize"},[e("el-table",{staticClass:"mytable",attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{label:"编号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.$index+(t.pagination.pageNum-1)*t.pagination.pageSize+1))])]}}])}),e("el-table-column",{attrs:{prop:"awardStatus",label:"活动状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s("0"==a.row.awardStatus?"启用":"停用"))])]}}])}),e("el-table-column",{attrs:{prop:"awardType",label:"奖品类型"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s("1"==a.row.awardType?"大额红包":"实物奖品"))])]}}])}),e("el-table-column",{attrs:{prop:"awardName",label:"奖品内容（活力/达星）"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.vigourName+"/"+a.row.awardName))]}}])}),e("el-table-column",{attrs:{prop:"intervalCount",label:"间隔次数"}}),e("el-table-column",{attrs:{prop:"cycle",label:"周期"}}),e("el-table-column",{attrs:{prop:"cycleCount",label:"周期内可被抽中次数"}}),e("el-table-column",{attrs:{prop:"initialAndLeft",label:"总库存/剩余库存"}}),e("el-table-column",{attrs:{prop:"usedCount",label:"已被抽出数量"}}),e("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$router.push({path:"/extraRecordList",query:{id:a.row.id}})}}},[t._v("中奖记录")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleEdit(a.row)}}},[t._v("修改")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleStop(a.$index,a.row)}}},[t._v(t._s("0"==a.row.awardStatus?"停用":"启用"))])]}}])})],1),e("div",{staticClass:"bt"},[e("el-button",{attrs:{type:"primary"},on:{click:t.toAdd}},[t._v("新建奖品")]),e("my-pagination",{attrs:{pagination:t.pagination},on:{changePage:t.changePage}})],1)],1)},o=[],r=e("5d2d"),i=e("7c15"),s=e("d529"),u=e("7ed4"),l={components:{MyPagination:s["a"]},data:function(){return{tableData:[],pagination:{pageNum:1,pageSize:10,total:0}}},mounted:function(){this._getExtraAward()},activated:function(){var t=this;u["a"].$on("isRefreshExtraAward",(function(a){a&&t._getExtraAward()}))},methods:{_getExtraAward:function(){var t=this,a=this.pagination,e=a.pageNum,n=a.pageSize;Object(i["p"])({pageNum:e,pageSize:n}).then((function(a){var e=a.total,n=a.rows;t.pagination.total=e,t.tableData=n})).catch((function(t){console.log(t.message)}))},handleStop:function(t,a){var e=this;0==a.awardStatus?this.$confirm("确定要停用该活动吗","",{center:!0,customClass:"stopDialog"}).then((function(){Object(i["x"])({awardId:a.id}).then((function(){e.$set(e.tableData[t],"awardStatus",1),e.$message.success("该活动已停止")})).catch((function(t){console.log(t.message)}))})):1==a.awardStatus&&this.$confirm("确定要启用该活动吗","",{center:!0,customClass:"stopDialog"}).then((function(){Object(i["x"])({awardId:a.id}).then((function(){e.$set(e.tableData[t],"awardStatus",0),e.$message.success("该活动已启用")})).catch((function(t){console.log(t.message)}))}))},handleEdit:function(t){r["a"].set("awardTypeDisabled",!0),r["a"].set("extraAward",t),this.$router.push("/setExtraAward")},changePage:function(t){this.pagination.pageNum=t,this._getAwardList()},toAdd:function(){r["a"].set("awardTypeDisabled",!1),r["a"].remove("extraAward"),this.$router.push("/setExtraAward")}}},c=l,p=(e("c025"),e("2877")),d=Object(p["a"])(c,n,o,!1,null,null,null);a["default"]=d.exports},"7ed4":function(t,a,e){"use strict";var n=e("2b0e"),o=new n["default"];a["a"]=o},c025:function(t,a,e){"use strict";var n=e("e28e"),o=e.n(n);o.a},d529:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.pagination.pageNum,"page-size":t.pagination.pageSize,background:"",layout:"prev, pager, next, jumper",total:t.pagination.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(a){return t.$set(t.pagination,"pageNum",a)},"update:current-page":function(a){return t.$set(t.pagination,"pageNum",a)}}})},o=[],r={props:{pagination:{pageNum:1,pageSize:10,total:0}},methods:{handleCurrentChange:function(t){this.$emit("changePage",t)}}},i=r,s=e("2877"),u=Object(s["a"])(i,n,o,!1,null,"36ca7eef",null);a["a"]=u.exports},e28e:function(t,a,e){}}]);
//# sourceMappingURL=chunk-6fc9d6a8.8fd165c0.js.map