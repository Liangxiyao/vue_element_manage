(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3934994c"],{"095f":function(e,t,a){},"1dde":function(e,t,a){var n=a("d039"),r=a("b622"),o=a("2d00"),i=r("species");e.exports=function(e){return o>=51||!n((function(){var t=[],a=t.constructor={};return a[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"33c0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"options-box"},[a("div",{staticClass:"select"},[a("el-select",{ref:"awardName",staticClass:"handle-select  awardName mr20",attrs:{placeholder:"选择活动名称"},model:{value:e.query.awardId,callback:function(t){e.$set(e.query,"awardId",t)},expression:"query.awardId"}},[e._l(e.nameOptions,(function(e,t){return[a("el-option",{key:t,attrs:{label:e.awardName,value:e.awardId}})]}))],2),a("el-select",{staticClass:"handle-select",attrs:{placeholder:"选择查看顺序"},model:{value:e.query.queryType,callback:function(t){e.$set(e.query,"queryType",t)},expression:"query.queryType"}},[e._l(e.options,(function(e,t){return[a("el-option",{key:t,attrs:{label:e.label,value:e.value}})]}))],2)],1),1==e.query.queryType?a("el-date-picker",{staticClass:"handle-input mr20",attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd","picker-options":e.choosePickerOptions},model:{value:e.query.createTime,callback:function(t){e.$set(e.query,"createTime",t)},expression:"query.createTime"}}):e._e(),2==e.query.queryType?a("el-input",{staticClass:"handle-input mr20",attrs:{placeholder:"输入员工工号"},model:{value:e.query.agentCode,callback:function(t){e.$set(e.query,"agentCode",t)},expression:"query.agentCode"}}):e._e(),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),a("div",{staticClass:"errTip"},[e._v(e._s(e.errTip))])],1),a("el-table",{staticClass:"mytable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"编号",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.$index+(e.pagination.pageNum-1)*e.pagination.pageSize+1)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"awardName",label:"活动名称"}}),a("el-table-column",{attrs:{prop:"agentCode",label:"员工工号"}}),3==e.query.queryType||4==e.query.queryType?[a("el-table-column",{attrs:{prop:"vigourTotal",label:"活力红包"}}),a("el-table-column",{attrs:{prop:"standardTotal",label:"达星红包"}})]:[a("el-table-column",{attrs:{prop:"vigourAmount",label:"活力红包"}}),a("el-table-column",{attrs:{prop:"standardAmount",label:"达星红包"}})],a("el-table-column",{attrs:{prop:"createTime",label:"日期"}})],2),a("my-pagination",{attrs:{pagination:e.pagination},on:{changePage:e.changePage}})],1)},r=[],o=(a("d81d"),a("7c15")),i=a("d529");a("99af");function c(e,t){var a=new Date(e),n=a.getFullYear(),r=a.getMonth()+1,o=a.getDate(),i=a.getHours(),c=a.getMinutes(),u=a.getSeconds();return r=r<10?"0"+r:r,o=o<10?"0"+o:o,1==t?"".concat(n,"-").concat(r,"-").concat(o):"".concat(n,"-").concat(r,"-").concat(o," ").concat(i,":").concat(c,":").concat(u)}var u={components:{MyPagination:i["a"]},data:function(){var e=this;return{options:[{value:"1",label:"日期"},{value:"2",label:"员工工号"},{value:"3",label:"活力红包"},{value:"4",label:"达星红包"}],nameOptions:[{awardId:"",awardName:""}],query:{awardId:"",queryType:"1",agentCode:"",createTime:""},tableData:[],pagination:{pageNum:1,pageSize:10,total:0},optionalDate:{},errTip:"",choosePickerOptions:{disabledDate:function(t){var a=t.getTime(),n=e.optionalDate,r=n.beginDate,o=n.endDate,i=new Date(r).getTime(),c=new Date(o).getTime();return a<i||a>c}}}},mounted:function(){this._getAwardsInfo()},methods:{_getAwardsInfo:function(){var e=this;Object(o["g"])().then((function(t){e.nameOptions=t.data;var a=t.data[0],n=a.awardId,r=a.beginDate,o=a.endDate;e.query.awardId=n,e.optionalDate={beginDate:r,endDate:o},e._getRecordList()})).catch((function(e){console.log(e.message)}))},_getRecordList:function(){var e=this,t=Object.assign(this.query,this.pagination);delete t.total,Object(o["v"])(t).then((function(t){var a=t.total,n=t.rows;e.pagination.total=a,e.tableData=n.map((function(e){return e.createTime=c(e.createTime),e}))})).catch((function(e){console.log(e.message)}))},handleSearch:function(){var e=this.query.awardId;if(""==e)return this.errTip="请选择活动名称",void this.$refs.awardName.focus();this._getRecordList()},changePage:function(e){this.pagination.pageNum=e,this._getRecordList()},handlerReset:function(){this.query={awardId:this.nameOptions[0].awardId,queryType:"1",agentCode:"",createTime:""},this.pagination.pageNum=1,this._getRecordList()}}},l=u,s=(a("48f9"),a("2877")),d=Object(s["a"])(l,n,r,!1,null,"e8a39084",null);t["default"]=d.exports},"48f9":function(e,t,a){"use strict";var n=a("095f"),r=a.n(n);r.a},"65f0":function(e,t,a){var n=a("861d"),r=a("e8b5"),o=a("b622"),i=o("species");e.exports=function(e,t){var a;return r(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},8418:function(e,t,a){"use strict";var n=a("c04e"),r=a("9bf2"),o=a("5c6c");e.exports=function(e,t,a){var i=n(t);i in e?r.f(e,i,o(0,a)):e[i]=a}},"99af":function(e,t,a){"use strict";var n=a("23e7"),r=a("d039"),o=a("e8b5"),i=a("861d"),c=a("7b0b"),u=a("50c4"),l=a("8418"),s=a("65f0"),d=a("1dde"),p=a("b622"),f=a("2d00"),g=p("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",y=f>=51||!r((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),b=d("concat"),v=function(e){if(!i(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)},w=!y||!b;n({target:"Array",proto:!0,forced:w},{concat:function(e){var t,a,n,r,o,i=c(this),d=s(i,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?i:arguments[t],v(o)){if(r=u(o.length),p+r>m)throw TypeError(h);for(a=0;a<r;a++,p++)a in o&&l(d,p,o[a])}else{if(p>=m)throw TypeError(h);l(d,p++,o)}return d.length=p,d}})},ae40:function(e,t,a){var n=a("83ab"),r=a("d039"),o=a("5135"),i=Object.defineProperty,c={},u=function(e){throw e};e.exports=function(e,t){if(o(c,e))return c[e];t||(t={});var a=[][e],l=!!o(t,"ACCESSORS")&&t.ACCESSORS,s=o(t,0)?t[0]:u,d=o(t,1)?t[1]:void 0;return c[e]=!!a&&!r((function(){if(l&&!n)return!0;var e={length:-1};l?i(e,1,{enumerable:!0,get:u}):e[1]=1,a.call(e,s,d)}))}},b727:function(e,t,a){var n=a("0366"),r=a("44ad"),o=a("7b0b"),i=a("50c4"),c=a("65f0"),u=[].push,l=function(e){var t=1==e,a=2==e,l=3==e,s=4==e,d=6==e,p=5==e||d;return function(f,g,m,h){for(var y,b,v=o(f),w=r(v),q=n(g,m,3),T=i(w.length),C=0,_=h||c,x=t?_(f,T):a?_(f,0):void 0;T>C;C++)if((p||C in w)&&(y=w[C],b=q(y,C,v),e))if(t)x[C]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return C;case 2:u.call(x,y)}else if(s)return!1;return d?-1:l||s?s:x}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},d529:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,background:"",layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.pagination,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageNum",t)}}})},r=[],o={props:{pagination:{pageNum:1,pageSize:10,total:0}},methods:{handleCurrentChange:function(e){this.$emit("changePage",e)}}},i=o,c=a("2877"),u=Object(c["a"])(i,n,r,!1,null,"36ca7eef",null);t["a"]=u.exports},d81d:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").map,o=a("1dde"),i=a("ae40"),c=o("map"),u=i("map");n({target:"Array",proto:!0,forced:!c||!u},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,a){var n=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=chunk-3934994c.4cd74114.js.map