(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58451ffe"],{"188a":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"setExtraAward"},[e("el-form",{ref:"formData",staticClass:"formData",attrs:{model:t.formData,rules:t.rules,"label-width":"170px"}},[e("el-form-item",{attrs:{label:"奖品类型",prop:"awardType"}},[e("el-select",{staticClass:"handle-select",attrs:{disabled:t.noEdit},model:{value:t.formData.awardType,callback:function(a){t.$set(t.formData,"awardType",a)},expression:"formData.awardType"}},[e("el-option",{attrs:{label:"大额红包",value:"1"}}),e("el-option",{attrs:{label:"实物奖品",value:"2"}})],1)],1),"1"==t.formData.awardType?[e("el-form-item",{attrs:{label:"活力金额",prop:"vigourAmount"}},[e("el-input",{attrs:{placeholder:"请输入红包金额"},model:{value:t.formData.vigourAmount,callback:function(a){t.$set(t.formData,"vigourAmount",a)},expression:"formData.vigourAmount"}})],1),e("el-form-item",{attrs:{label:"达星金额",prop:"awardAmount"}},[e("el-input",{attrs:{placeholder:"请输入红包金额"},model:{value:t.formData.awardAmount,callback:function(a){t.$set(t.formData,"awardAmount",a)},expression:"formData.awardAmount"}})],1)]:[e("el-form-item",{attrs:{label:"活力奖品名称",prop:"vigourName"}},[e("el-input",{attrs:{placeholder:"请输入奖品名称"},model:{value:t.formData.vigourName,callback:function(a){t.$set(t.formData,"vigourName",a)},expression:"formData.vigourName"}})],1),e("el-form-item",{attrs:{label:"达星奖品名称",prop:"awardName"}},[e("el-input",{attrs:{placeholder:"请输入奖品名称"},model:{value:t.formData.awardName,callback:function(a){t.$set(t.formData,"awardName",a)},expression:"formData.awardName"}})],1)],e("el-form-item",{attrs:{label:"间隔次数",prop:"intervalCount"}},[e("el-input",{staticClass:"wd200",attrs:{placeholder:"输入间隔次数"},model:{value:t.formData.intervalCount,callback:function(a){t.$set(t.formData,"intervalCount",a)},expression:"formData.intervalCount"}}),e("span",{staticClass:"tip"},[t._v("次后，即可判断是否获得该奖品")])],1),e("el-form-item",{attrs:{label:"发奖周期",prop:"cycle",placeholder:"设定该奖品的抽取周期"}},[e("el-input",{staticClass:"wd200",attrs:{placeholder:"该奖品的抽取周期"},model:{value:t.formData.cycle,callback:function(a){t.$set(t.formData,"cycle",a)},expression:"formData.cycle"}}),e("span",{staticClass:"tip"},[t._v("天")])],1),e("el-form-item",{attrs:{label:"周期内可被抽中次数",prop:"cycleCount"}},[e("el-input",{attrs:{placeholder:"抽奖周期内可被抽取的次数"},model:{value:t.formData.cycleCount,callback:function(a){t.$set(t.formData,"cycleCount",a)},expression:"formData.cycleCount"}})],1),e("el-form-item",{attrs:{label:"奖品库存数",prop:"initialCount"}},[e("el-input",{attrs:{placeholder:"请输入奖品库存数"},model:{value:t.formData.initialCount,callback:function(a){t.$set(t.formData,"initialCount",a)},expression:"formData.initialCount"}})],1),e("el-form-item",{staticClass:"button-wrap"},[e("el-button",{on:{click:function(a){return t.$router.push("/extraAward")}}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.onSubmit("formData")}}},[t._v("确定")])],1)],2)],1)},o=[],n=(e("a9e3"),e("5d2d")),i=e("7c15"),l=e("7ed4"),u={name:"setExtraAward",data:function(){var t=function(t,a,e){if(!a)return e(new Error("此项为必填项"));Number(a)?e():(console.log(Number(a)),e(new Error("输入格式有误")))},a=function(t,a,e){var r=/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/;""===a?e(new Error("此项为必填项")):r.test(a)?e():e(new Error("金额输入有误"))};return{formData:{awardType:"1",awardName:"",vigourName:"",awardAmount:"",vigourAmount:"",intervalCount:"",cycle:"",cycleCount:"",initialCount:""},rules:{awardType:[{required:!0,message:"此项为必填项",trigger:"change"}],vigourName:[{required:!0,message:"此项为必填项",trigger:"blur"}],awardName:[{required:!0,message:"此项为必填项",trigger:"blur"}],vigourAmount:[{required:!0,validator:a,trigger:"blur"}],awardAmount:[{required:!0,validator:a,trigger:"blur"}],intervalCount:[{required:!0,validator:t,trigger:"blur"}],cycle:[{required:!0,validator:t,trigger:"blur"}],cycleCount:[{required:!0,validator:t,trigger:"blur"}],initialCount:[{required:!0,validator:t,trigger:"blur"}]},noEdit:n["a"].get("awardTypeDisabled")}},created:function(){var t=n["a"].get("extraAward");this.noEdit&&t&&(this.formData=t)},methods:{onSubmit:function(t){var a=this;this.$refs[t].validate((function(e){if(!e)return!1;var r=a.formData,o=r.awardName,n=r.awardAmount,u=r.vigourName,s=r.vigourAmount,c={awardName:o||n,vigourName:u||s},f=Object.assign(a.formData,c);delete f.awardAmount,delete f.vigourAmount,a.noEdit?Object(i["k"])(f).then((function(){a.$message.success("操作成功"),a.$refs[t].resetFields(),a.$router.push("/extraAward"),l["a"].$emit("isRefreshExtraAward",!0)})).catch((function(t){console.log(t.message)})):Object(i["b"])(f).then((function(){a.$message.success("操作成功"),a.$refs[t].resetFields(),a.$router.push("/extraAward"),l["a"].$emit("isRefreshExtraAward",!0)})).catch((function(t){console.log(t.message)}))}))},toEdit:function(){this.noEdit=!1,n["a"].set("disabled",this.noEdit)}}},s=u,c=(e("a313"),e("2877")),f=Object(c["a"])(s,r,o,!1,null,"30b57768",null);a["default"]=f.exports},5899:function(t,a){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,a,e){var r=e("1d80"),o=e("5899"),n="["+o+"]",i=RegExp("^"+n+n+"*"),l=RegExp(n+n+"*$"),u=function(t){return function(a){var e=String(r(a));return 1&t&&(e=e.replace(i,"")),2&t&&(e=e.replace(l,"")),e}};t.exports={start:u(1),end:u(2),trim:u(3)}},7156:function(t,a,e){var r=e("861d"),o=e("d2bb");t.exports=function(t,a,e){var n,i;return o&&"function"==typeof(n=a.constructor)&&n!==e&&r(i=n.prototype)&&i!==e.prototype&&o(t,i),t}},"7ed4":function(t,a,e){"use strict";var r=e("2b0e"),o=new r["default"];a["a"]=o},"88ff":function(t,a,e){},a313:function(t,a,e){"use strict";var r=e("88ff"),o=e.n(r);o.a},a9e3:function(t,a,e){"use strict";var r=e("83ab"),o=e("da84"),n=e("94ca"),i=e("6eeb"),l=e("5135"),u=e("c6b6"),s=e("7156"),c=e("c04e"),f=e("d039"),m=e("7c73"),d=e("241c").f,p=e("06cf").f,v=e("9bf2").f,g=e("58a8").trim,b="Number",w=o[b],h=w.prototype,D=u(m(h))==b,N=function(t){var a,e,r,o,n,i,l,u,s=c(t,!1);if("string"==typeof s&&s.length>2)if(s=g(s),a=s.charCodeAt(0),43===a||45===a){if(e=s.charCodeAt(2),88===e||120===e)return NaN}else if(48===a){switch(s.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(n=s.slice(2),i=n.length,l=0;l<i;l++)if(u=n.charCodeAt(l),u<48||u>o)return NaN;return parseInt(n,r)}return+s};if(n(b,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var A,C=function(t){var a=arguments.length<1?0:t,e=this;return e instanceof C&&(D?f((function(){h.valueOf.call(e)})):u(e)!=b)?s(new w(N(a)),e,C):N(a)},E=r?d(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;E.length>y;y++)l(w,A=E[y])&&!l(C,A)&&v(C,A,p(w,A));C.prototype=h,h.constructor=C,i(o,b,C)}}}]);
//# sourceMappingURL=chunk-58451ffe.f28e10ae.js.map